<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#36454F" />
    <title>Pawsitive - Dog Training Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body class="home-body">
    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <header class="home-header">
      <div>
        <h1>Behavior Log</h1>
        <p>Log what happened in one tap.</p>
      </div>
      <div class="avatar-wrap">
        <img
          src="https://images.unsplash.com/photo-1517849845537-4d257902454a?w=200&q=80&auto=format&fit=crop"
          alt="Dog portrait"
          class="avatar"
        />
        <span class="avatar-dot"></span>
      </div>
    </header>

    <section class="card behavior-card">
      <div class="section-head">
        <h3>Negative Behaviors</h3>
      </div>
      <div id="negativeBehaviourGrid" class="behavior-action-grid"></div>
    </section>

    <section class="card goal-link-card">
      <h3>Goal Tracking</h3>
      <p class="helper-copy">Training goals, milestones, and progress are on a separate page.</p>
      <a href="/training.html" class="btn-link">Open Training</a>
      <a href="/goals.html" class="btn-link">Open Goal Tracking</a>
    </section>

    <section class="card summary-card">
      <div class="summary-head">
        <div>
          <h3>Daily Summary</h3>
          <div class="summary-meta">
            <span><i class="dot dot-good"></i><b id="winsCount">0</b> Wins</span>
            <span><i class="dot dot-work"></i><b id="workCount">0</b> Work</span>
          </div>
        </div>
        <button id="syncBtn" class="text-btn">Sync Queue</button>
      </div>
      <div id="summaryBars" class="bars-grid"></div>
      <p id="syncStatus" class="sync-copy">Queue: 0</p>
    </section>

    <nav class="bottom-nav">
      <a class="nav-item nav-active" href="/">
        <span class="material-icons">home</span>
        <span>Log</span>
      </a>
      <a class="nav-item" href="/history.html">
        <span class="material-icons">history</span>
        <span>History</span>
      </a>
      <a href="/training.html" class="fab">
        <span class="material-icons">school</span>
      </a>
      <a class="nav-item" href="/training.html">
        <span class="material-icons">school</span>
        <span>Training</span>
      </a>
      <a class="nav-item" href="/goals.html">
        <span class="material-icons">track_changes</span>
        <span>Goals</span>
      </a>
      <span id="queueCountNav" class="queue-badge">0</span>
    </nav>

    <div id="negativeBehaviourOverlay" class="behaviour-popover-overlay" hidden>
      <div class="behaviour-popover" role="dialog" aria-label="Log a negative behaviour">
        <div class="behaviour-popover-head">
          <div>
            <h3>Negative Behavior Context</h3>
            <p id="selectedNegativeBehaviour" class="helper-copy"></p>
          </div>
          <button id="negativeBehaviourClose" class="behaviour-popover-close" type="button" aria-label="Close behaviour picker">
            <span class="material-icons">close</span>
          </button>
        </div>
        <form id="negativeContextForm" class="negative-context-form">
          <label class="negative-field">
            <span>Location</span>
            <input id="negativeLocationInput" type="text" placeholder="e.g., Front yard" />
          </label>
          <label class="negative-field">
            <span>Severity</span>
            <select id="negativeSeveritySelect">
              <option value="2">Low</option>
              <option value="3" selected>Medium</option>
              <option value="4">High</option>
              <option value="5">Extreme</option>
            </select>
          </label>
          <label class="negative-field">
            <span>Arousal Level</span>
            <select id="negativeArousalSelect">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </label>
          <label class="negative-field">
            <span>Extra Context</span>
            <textarea
              id="negativeContextNotes"
              rows="3"
              placeholder="Trigger, people nearby, distractions, what happened..."
            ></textarea>
          </label>
          <button id="negativeContextSave" class="negative-save-btn" type="submit">
            Save Negative Log
          </button>
        </form>
      </div>
    </div>

    <script type="module" src="/app.js"></script>
  </body>
</html>
